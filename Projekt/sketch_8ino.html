<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RUS_Projekt: sketch.ino File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RUS_Projekt
   </div>
   <div id="projectbrief">Završni projekt iz kolegija Ugradbeni sustavi</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('sketch_8ino.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">sketch.ino File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Upravljanje alarmnim sustavom temeljenim na PIR senzoru uz mogućnost kontrole putem IR daljinskog upravljača.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;LiquidCrystal_I2C.h&gt;</code><br />
<code>#include &lt;IRremote.hpp&gt;</code><br />
<code>#include &lt;avr/sleep.h&gt;</code><br />
<code>#include &lt;avr/interrupt.h&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for sketch.ino:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="sketch_8ino__incl.png" border="0" usemap="#asketch_8ino" alt=""/></div>
<map name="asketch_8ino" id="asketch_8ino">
<area shape="rect" title="Upravljanje alarmnim sustavom temeljenim na PIR senzoru uz mogućnost kontrole putem IR daljinskog upr..." alt="" coords="251,5,339,31"/>
<area shape="rect" title=" " alt="" coords="5,79,152,104"/>
<area shape="poly" title=" " alt="" coords="261,33,127,77,126,72,259,28"/>
<area shape="rect" title=" " alt="" coords="177,79,287,104"/>
<area shape="poly" title=" " alt="" coords="286,33,253,70,249,66,282,29"/>
<area shape="rect" title=" " alt="" coords="311,79,406,104"/>
<area shape="poly" title=" " alt="" coords="307,29,341,67,337,70,303,33"/>
<area shape="rect" title=" " alt="" coords="431,79,545,104"/>
<area shape="poly" title=" " alt="" coords="327,28,445,71,443,76,325,33"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aeeae80d510f30b226f65a16c18294e2a" id="r_aeeae80d510f30b226f65a16c18294e2a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#aeeae80d510f30b226f65a16c18294e2a">WOKWI_SIMULACIJA</a></td></tr>
<tr class="memdesc:aeeae80d510f30b226f65a16c18294e2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt; Knjižnica za konfiguraciju prekida  <br /></td></tr>
<tr class="separator:aeeae80d510f30b226f65a16c18294e2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac21d052bacaf620de472c9d000f0be38" id="r_ac21d052bacaf620de472c9d000f0be38"><td class="memItemLeft" align="right" valign="top">LiquidCrystal_I2C&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#ac21d052bacaf620de472c9d000f0be38">lcd</a> (0x27, 20, 4)</td></tr>
<tr class="memdesc:ac21d052bacaf620de472c9d000f0be38"><td class="mdescLeft">&#160;</td><td class="mdescRight">LCD objekt za prikaz poruka korisniku (20x4 znakova, I2C adresa 0x27).  <br /></td></tr>
<tr class="separator:ac21d052bacaf620de472c9d000f0be38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a079d49a5302222debfe4dc54cf7a5c7a" id="r_a079d49a5302222debfe4dc54cf7a5c7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a079d49a5302222debfe4dc54cf7a5c7a">wakeUp</a> ()</td></tr>
<tr class="memdesc:a079d49a5302222debfe4dc54cf7a5c7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funkcija prekida koja se poziva pri buđenju sustava.  <br /></td></tr>
<tr class="separator:a079d49a5302222debfe4dc54cf7a5c7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a781975978f0b9958ad07e530a579b141" id="r_a781975978f0b9958ad07e530a579b141"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a781975978f0b9958ad07e530a579b141">resetStanje</a> ()</td></tr>
<tr class="memdesc:a781975978f0b9958ad07e530a579b141"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resetira sustav nakon deaktivacije alarma.  <br /></td></tr>
<tr class="separator:a781975978f0b9958ad07e530a579b141"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3cf6746793db8fea1c55c501b1deb2d" id="r_af3cf6746793db8fea1c55c501b1deb2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#af3cf6746793db8fea1c55c501b1deb2d">ugasiAlarm</a> ()</td></tr>
<tr class="memdesc:af3cf6746793db8fea1c55c501b1deb2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funkcija za gašenje aktivnog alarma.  <br /></td></tr>
<tr class="separator:af3cf6746793db8fea1c55c501b1deb2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5b5093bef9a291e112c49e9aae5feec" id="r_ae5b5093bef9a291e112c49e9aae5feec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#ae5b5093bef9a291e112c49e9aae5feec">enterSleep</a> ()</td></tr>
<tr class="memdesc:ae5b5093bef9a291e112c49e9aae5feec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funkcija za ulazak sustava u sleep mode radi uštede energije.  <br /></td></tr>
<tr class="separator:ae5b5093bef9a291e112c49e9aae5feec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc01d736fe50cf5b977f755b675f11d" id="r_a4fc01d736fe50cf5b977f755b675f11d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a4fc01d736fe50cf5b977f755b675f11d">setup</a> ()</td></tr>
<tr class="memdesc:a4fc01d736fe50cf5b977f755b675f11d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inicijalizacija sustava prilikom pokretanja.  <br /></td></tr>
<tr class="separator:a4fc01d736fe50cf5b977f755b675f11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe461d27b9c48d5921c00d521181f12f" id="r_afe461d27b9c48d5921c00d521181f12f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#afe461d27b9c48d5921c00d521181f12f">loop</a> ()</td></tr>
<tr class="memdesc:afe461d27b9c48d5921c00d521181f12f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Glavna petlja sustava.  <br /></td></tr>
<tr class="separator:afe461d27b9c48d5921c00d521181f12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Pinovi uređaja</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Definicije svih digitalnih pinova korištenih u sustavu. </p>
</div></td></tr>
<tr class="memitem:a2cd9f0d96c9cd0637798de3baa7aee60" id="r_a2cd9f0d96c9cd0637798de3baa7aee60"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a2cd9f0d96c9cd0637798de3baa7aee60">ledPin</a> = 6</td></tr>
<tr class="memdesc:a2cd9f0d96c9cd0637798de3baa7aee60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Digitalni pin na kojem je spojena LED dioda.  <br /></td></tr>
<tr class="separator:a2cd9f0d96c9cd0637798de3baa7aee60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a988a608b186de34e793324aee3ec73ee" id="r_a988a608b186de34e793324aee3ec73ee"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a988a608b186de34e793324aee3ec73ee">buzzerPin</a> = 5</td></tr>
<tr class="memdesc:a988a608b186de34e793324aee3ec73ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Digitalni pin na kojem je spojen buzzer.  <br /></td></tr>
<tr class="separator:a988a608b186de34e793324aee3ec73ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8124f4ae570c6b416e85d4948705938e" id="r_a8124f4ae570c6b416e85d4948705938e"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a8124f4ae570c6b416e85d4948705938e">pirPin</a> = 4</td></tr>
<tr class="memdesc:a8124f4ae570c6b416e85d4948705938e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Digitalni pin na kojem je spojen PIR senzor.  <br /></td></tr>
<tr class="separator:a8124f4ae570c6b416e85d4948705938e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1ac24ace0db3b096e56744b0ea173ed" id="r_ab1ac24ace0db3b096e56744b0ea173ed"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#ab1ac24ace0db3b096e56744b0ea173ed">irPin</a> = 3</td></tr>
<tr class="memdesc:ab1ac24ace0db3b096e56744b0ea173ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Digitalni pin za IR prijemnik.  <br /></td></tr>
<tr class="separator:ab1ac24ace0db3b096e56744b0ea173ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ddb8b6ae564eb22f7c74f2683a63b8e" id="r_a4ddb8b6ae564eb22f7c74f2683a63b8e"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a4ddb8b6ae564eb22f7c74f2683a63b8e">buttonPin</a> = 2</td></tr>
<tr class="memdesc:a4ddb8b6ae564eb22f7c74f2683a63b8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Digitalni pin za fizički gumb (INPUT_PULLUP)  <br /></td></tr>
<tr class="separator:a4ddb8b6ae564eb22f7c74f2683a63b8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Statusne zastavice sustava</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Varijable koje čuvaju trenutno stanje sustava i signale za akcije. </p>
</div></td></tr>
<tr class="memitem:ae9c6353b7ababe2622a259d5f71a41ac" id="r_ae9c6353b7ababe2622a259d5f71a41ac"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#ae9c6353b7ababe2622a259d5f71a41ac">wakeUpFlag</a> = false</td></tr>
<tr class="memdesc:ae9c6353b7ababe2622a259d5f71a41ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zastavica koju postavlja PIR prekid za buđenje iz sleep moda.  <br /></td></tr>
<tr class="separator:ae9c6353b7ababe2622a259d5f71a41ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e0ff2d3ee9d861b4231dcc61361c129" id="r_a8e0ff2d3ee9d861b4231dcc61361c129"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a8e0ff2d3ee9d861b4231dcc61361c129">zahtjevZaGasenjeGumbom</a> = false</td></tr>
<tr class="memdesc:a8e0ff2d3ee9d861b4231dcc61361c129"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zastavica za gašenje alarma putem gumba.  <br /></td></tr>
<tr class="separator:a8e0ff2d3ee9d861b4231dcc61361c129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4886a63ed5b453590080e57c2cf760a5" id="r_a4886a63ed5b453590080e57c2cf760a5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a4886a63ed5b453590080e57c2cf760a5">zahtjevZaGasenjeIR</a> = false</td></tr>
<tr class="memdesc:a4886a63ed5b453590080e57c2cf760a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zastavica za gašenje alarma putem IR daljinskog (tipka 1)  <br /></td></tr>
<tr class="separator:a4886a63ed5b453590080e57c2cf760a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3a902b93090166727a553586295ebb6" id="r_ae3a902b93090166727a553586295ebb6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#ae3a902b93090166727a553586295ebb6">alarmAktivan</a> = false</td></tr>
<tr class="memdesc:ae3a902b93090166727a553586295ebb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trenutno stanje alarma (aktiviran / deaktiviran)  <br /></td></tr>
<tr class="separator:ae3a902b93090166727a553586295ebb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d52a86a270366bbb7d6875a9b0df4d4" id="r_a1d52a86a270366bbb7d6875a9b0df4d4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a1d52a86a270366bbb7d6875a9b0df4d4">stanje</a> = false</td></tr>
<tr class="memdesc:a1d52a86a270366bbb7d6875a9b0df4d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trenutno stanje LED diode i buzzera (blinking efekt)  <br /></td></tr>
<tr class="separator:a1d52a86a270366bbb7d6875a9b0df4d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfef90b166278763e5118f5580f48463" id="r_acfef90b166278763e5118f5580f48463"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#acfef90b166278763e5118f5580f48463">sustavPokrenut</a> = false</td></tr>
<tr class="memdesc:acfef90b166278763e5118f5580f48463"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zastavica je li sustav pokrenut IR PLAY tipkom.  <br /></td></tr>
<tr class="separator:acfef90b166278763e5118f5580f48463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23c90ddef81fc5238afe8633e20e3ebb" id="r_a23c90ddef81fc5238afe8633e20e3ebb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a23c90ddef81fc5238afe8633e20e3ebb">zahtjevZaGasenjeSustava</a> = false</td></tr>
<tr class="memdesc:a23c90ddef81fc5238afe8633e20e3ebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zastavica za potpuno gašenje sustava putem IR POWER tipke.  <br /></td></tr>
<tr class="separator:a23c90ddef81fc5238afe8633e20e3ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Definirani IR kodovi</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Konstantne vrijednosti za interpretaciju pritisnutih tipki na daljinskom. </p>
</div></td></tr>
<tr class="memitem:a57302b2a873ba32a98f013fc784e25a0" id="r_a57302b2a873ba32a98f013fc784e25a0"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a57302b2a873ba32a98f013fc784e25a0">IR_KOD_PALJENJE</a> = 0x57A8FF00</td></tr>
<tr class="memdesc:a57302b2a873ba32a98f013fc784e25a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">IR kod za PLAY tipku (pokretanje sustava)  <br /></td></tr>
<tr class="separator:a57302b2a873ba32a98f013fc784e25a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c07a919e05dd74466f6e4d7882cb032" id="r_a1c07a919e05dd74466f6e4d7882cb032"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a1c07a919e05dd74466f6e4d7882cb032">IR_KOD_GASENJE</a> = 0x5DA2FF00</td></tr>
<tr class="memdesc:a1c07a919e05dd74466f6e4d7882cb032"><td class="mdescLeft">&#160;</td><td class="mdescRight">IR kod za POWER tipku (gašenje cijelog sustava)  <br /></td></tr>
<tr class="separator:a1c07a919e05dd74466f6e4d7882cb032"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00069362e9095a0f6a0c9ff9bc516b6b" id="r_a00069362e9095a0f6a0c9ff9bc516b6b"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a00069362e9095a0f6a0c9ff9bc516b6b">IR_KOD_GASENJE_ALARMA</a> = 0xCF30FF00</td></tr>
<tr class="memdesc:a00069362e9095a0f6a0c9ff9bc516b6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">IR kod za tipku 1 (gašenje samo aktivnog alarma)  <br /></td></tr>
<tr class="separator:a00069362e9095a0f6a0c9ff9bc516b6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Varijable za mjerenje vremena</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Pomoćne varijable za kontrolu vremena događaja u sustavu. </p>
</div></td></tr>
<tr class="memitem:aa0ac8085d6bd0e2f03eff856c6835a43" id="r_aa0ac8085d6bd0e2f03eff856c6835a43"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#aa0ac8085d6bd0e2f03eff856c6835a43">prethodno</a> = 0</td></tr>
<tr class="memdesc:aa0ac8085d6bd0e2f03eff856c6835a43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vrijeme zadnje promjene stanja LED/buzzera za efekt blinkanja.  <br /></td></tr>
<tr class="separator:aa0ac8085d6bd0e2f03eff856c6835a43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e243d502b1d882c3b827c6b070cc02c" id="r_a2e243d502b1d882c3b827c6b070cc02c"><td class="memItemLeft" align="right" valign="top">const unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a2e243d502b1d882c3b827c6b070cc02c">interval</a> = 300</td></tr>
<tr class="memdesc:a2e243d502b1d882c3b827c6b070cc02c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interval blinkanja LED/buzzera u milisekundama.  <br /></td></tr>
<tr class="separator:a2e243d502b1d882c3b827c6b070cc02c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add49e425acd5c0cfe40c78769b0c1d77" id="r_add49e425acd5c0cfe40c78769b0c1d77"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#add49e425acd5c0cfe40c78769b0c1d77">zadnjeVrijemeDetekcije</a> = 0</td></tr>
<tr class="memdesc:add49e425acd5c0cfe40c78769b0c1d77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vrijeme zadnje registracije pokreta PIR senzorom.  <br /></td></tr>
<tr class="separator:add49e425acd5c0cfe40c78769b0c1d77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a632a8150a5127d3ae2080f091b43e048" id="r_a632a8150a5127d3ae2080f091b43e048"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a632a8150a5127d3ae2080f091b43e048">zadnjeVrijemeIR</a> = 0</td></tr>
<tr class="memdesc:a632a8150a5127d3ae2080f091b43e048"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vrijeme posljednjeg primljenog IR signala.  <br /></td></tr>
<tr class="separator:a632a8150a5127d3ae2080f091b43e048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb1bb411af196187526f8ae6125239ee" id="r_afb1bb411af196187526f8ae6125239ee"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#afb1bb411af196187526f8ae6125239ee">zadnjeVrijemeGumba</a> = 0</td></tr>
<tr class="memdesc:afb1bb411af196187526f8ae6125239ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vrijeme posljednjeg pritiska fizičkog gumba.  <br /></td></tr>
<tr class="separator:afb1bb411af196187526f8ae6125239ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Upravljanje alarmnim sustavom temeljenim na PIR senzoru uz mogućnost kontrole putem IR daljinskog upravljača. </p>
<p>Ovaj program omogućava:</p><ul>
<li>Detekciju pokreta pomoću PIR senzora</li>
<li>Aktivaciju alarma (LED + buzzer) pri detekciji pokreta</li>
<li>Gašenje alarma pomoću fizičkog gumba ili IR daljinskog</li>
<li>Upravljanje sleep modom za uštedu energije</li>
<li>Pokretanje i gašenje cijelog sustava putem IR daljinskog (PLAY/POWER tipke)</li>
<li>Prikaz stanja na LCD zaslonu</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>Maja Vignjević - <a href="#" onclick="location.href='mai'+'lto:'+'mvi'+'gn'+'jev'+'i@'+'tvz'+'.h'+'r'; return false;">mvign<span class="obfuscator">.nosp@m.</span>jevi<span class="obfuscator">.nosp@m.</span>@tvz.<span class="obfuscator">.nosp@m.</span>hr</a> </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aeeae80d510f30b226f65a16c18294e2a" name="aeeae80d510f30b226f65a16c18294e2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeae80d510f30b226f65a16c18294e2a">&#9670;&#160;</a></span>WOKWI_SIMULACIJA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WOKWI_SIMULACIJA</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&lt; Knjižnica za konfiguraciju prekida </p>
<p>&lt; Knjižnica za upravljanje LCD 20x4 preko I2C sučelja &lt; Knjižnica za upravljanje IR daljinskim prijemom &lt; Knjižnica za upravljanje sleep modom procesora Definicija za rad u Wokwi simulatoru (onemogućava stvarni sleep) </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae5b5093bef9a291e112c49e9aae5feec" name="ae5b5093bef9a291e112c49e9aae5feec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5b5093bef9a291e112c49e9aae5feec">&#9670;&#160;</a></span>enterSleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void enterSleep </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funkcija za ulazak sustava u sleep mode radi uštede energije. </p>
<p>Kada se koristi stvarni hardver:</p><ul>
<li>Mikrokontroler ulazi u Power-down sleep mode gdje prestaje s radom do prekida (PIR).</li>
</ul>
<p>Kada se koristi Wokwi simulator:</p><ul>
<li>Sleep mode se simulira aktivnim čekanjem da PIR senzor registrira pokret</li>
<li>Tijekom čekanja, funkcija detektira i IR signal za gašenje sustava (IR POWER tipka)</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Makronaredba <code>WOKWI_SIMULACIJA</code> odlučuje koristi li se stvarni ili simulirani sleep način rada. </dd></dl>
<p>&lt; Ispis informativne poruke za Wokwi simulaciju</p>
<p>&lt; Aktivno čekanje dok PIR ne registrira pokret ili ne primimo IR naredbu za gašenje</p>
<p>&lt; Kratko čekanje za rasterećenje CPU-a</p>
<p>&lt; Provjera ima li novih IR signala</p>
<p>&lt; Spremanje primljenog IR koda</p>
<p>&lt; Postavlja se zahtjev za gašenje sustava</p>
<p>&lt; Priprema IR prijemnika za sljedeći signal</p>
<p>&lt; Postavljanje zastavice za buđenje iz simuliranog sleepa</p>

</div>
</div>
<a id="ac21d052bacaf620de472c9d000f0be38" name="ac21d052bacaf620de472c9d000f0be38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac21d052bacaf620de472c9d000f0be38">&#9670;&#160;</a></span>lcd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LiquidCrystal_I2C lcd </td>
          <td>(</td>
          <td class="paramtype">0x27&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">20&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">4&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>LCD objekt za prikaz poruka korisniku (20x4 znakova, I2C adresa 0x27). </p>

</div>
</div>
<a id="afe461d27b9c48d5921c00d521181f12f" name="afe461d27b9c48d5921c00d521181f12f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe461d27b9c48d5921c00d521181f12f">&#9670;&#160;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Glavna petlja sustava. </p>
<p>Funkcija neprekidno izvršava sljedeće:</p><ul>
<li>Provjerava zahtjev za gašenje cijelog sustava (IR POWER tipkom)</li>
<li>Čita stanje fizičkog gumba</li>
<li>Sprema trenutno i prethodno stanje gumba za detekciju pritiska </li>
</ul>
<p>Provjera zahtjeva za isključivanje cijelog sustava.</p>
<p>Ako je primljen zahtjev za gašenje (IR POWER) i sustav je pokrenut, sustav se isključuje:</p><ul>
<li>Briše LCD ekran</li>
<li>Prikazuje poruku o gašenju sustava</li>
<li>Resetira sve kontrolne varijable</li>
<li>Gasi LED i buzzer</li>
<li>Izlazi iz funkcije <a class="el" href="sketch_8ino.html#afe461d27b9c48d5921c00d521181f12f" title="Glavna petlja sustava.">loop()</a></li>
</ul>
<p>&lt; Ispis poruke o isključenju sustava</p>
<p>&lt; Brisanje trenutnog sadržaja LCD zaslona</p>
<p>&lt; Postavljanje kursora na početak LCD-a</p>
<p>&lt; Prikaz poruke o isključenju sustava</p>
<p>&lt; Pauza kako bi korisnik mogao pročitati poruku</p>
<p>&lt; Ponovno čišćenje LCD zaslona</p>
<p>&lt; Gašenje pozadinskog osvjetljenja LCD zaslona</p>
<p>Resetiranje stanja sustava</p>
<p>&lt; Sustav više nije pokrenut</p>
<p>&lt; Alarm se gasi</p>
<p>&lt; Resetiranje buđenja</p>
<p>&lt; Resetiranje zahtjeva za gašenje</p>
<p>Gašenje svih signalnih uređaja</p>
<p>&lt; Gašenje LED diode</p>
<p>&lt; Gašenje buzzera</p>
<p>&lt; Izlazak iz funkcije <a class="el" href="sketch_8ino.html#afe461d27b9c48d5921c00d521181f12f" title="Glavna petlja sustava.">loop()</a> — ništa dalje se ne izvršava</p>
<p>Čitanje stanja fizičkog gumba.</p>
<p>Očitava se trenutačno stanje gumba:</p><ul>
<li>LOW = pritisnut</li>
<li>HIGH = nije pritisnut (INPUT_PULLUP logika)</li>
</ul>
<p>Spremanje prethodnog stanja gumba.</p>
<p>Potrebno za detekciju "falling edge" događaja (s visoke na nisku razinu).</p>
<dl class="section note"><dt>Note</dt><dd>Inicijalno postavljeno na HIGH jer gumb nije pritisnut (zbog pull-upa).</dd></dl>
<p>Spremanje trenutnog stanja gumba.</p>
<p>Koristi se za usporedbu s prethodnim stanjem.</p>
<p>Detekcija pritiska fizičkog gumba (falling edge detekcija).</p>
<p>Provjerava prijelaz stanja gumba s HIGH na LOW, što znači da je korisnik pritisnuo gumb. Ako je alarm trenutno aktivan, postavlja se zahtjev za njegovo gašenje.</p>
<p>&lt; Bilježenje trenutnog vremena pritiska gumba</p>
<p>Provjera je li alarm trenutno aktivan.</p>
<p>Ako jest, postavlja se zastavica za gašenje alarma putem gumba.</p>
<p>&lt; Postavlja zahtjev za gašenje alarma pritiskom gumba</p>
<p>&lt; Informativni ispis za korisnika / debug</p>
<p>Ažuriranje prethodnog stanja gumba.</p>
<p>Sprema trenutno stanje gumba za sljedeću iteraciju <a class="el" href="sketch_8ino.html#afe461d27b9c48d5921c00d521181f12f" title="Glavna petlja sustava.">loop()</a> funkcije, kako bi se i dalje mogla detektirati promjena stanja.</p>
<p>Obrada primljenih IR signala.</p>
<p>Dekodira se primljeni IR signal i provjerava kojem tipu naredbe pripada:</p><ul>
<li>Ako je IR_KOD_PALJENJE (PLAY tipka), pokreće sustav ako još nije aktiviran.</li>
<li>Ako je IR_KOD_GASENJE (POWER tipka), postavlja zahtjev za gašenje cijelog sustava.</li>
<li>Ako je IR_KOD_GASENJE_ALARMA (tipka 1) i alarm je aktivan, postavlja zahtjev za gašenje alarma.</li>
</ul>
<p>&lt; Spremanje dekodiranog IR koda</p>
<p>Provjera je li primljena IR naredba za pokretanje sustava (PLAY tipka).</p>
<p>&lt; Pokreni sustav samo ako već nije pokrenut</p>
<p>&lt; Označi da je sustav pokrenut</p>
<p>&lt; Resetiraj zastavicu za buđenje</p>
<p>Animacija pokretanja - LED i buzzer blinkaju 3 sekunde.</p>
<p>&lt; Isključi LCD pozadinsko svjetlo radi štednje</p>
<p>&lt; Informacija da je sustav pokrenut</p>
<p>Provjera je li primljena IR naredba za gašenje cijelog sustava (POWER tipka).</p>
<p>&lt; Postavljanje zahtjeva za gašenje sustava</p>
<p>Provjera je li primljena IR naredba za gašenje samo aktivnog alarma (tipka 1).</p>
<p>&lt; Postavljanje zahtjeva za gašenje alarma putem IR</p>
<p>&lt; Informativna poruka</p>
<p>&lt; Priprema IR prijemnika za primanje novih signala</p>
<p>Provjera stanja pokrenutosti sustava.</p>
<p>Ako sustav nije pokrenut putem IR PLAY tipke, izlazi iz funkcije <code><a class="el" href="sketch_8ino.html#afe461d27b9c48d5921c00d521181f12f" title="Glavna petlja sustava.">loop()</a></code> bez daljnje obrade.</p>
<dl class="section note"><dt>Note</dt><dd>Sustav neće reagirati na PIR, gumb ili IR signale dok nije aktivno pokrenut korisničkom naredbom.</dd></dl>
<p>&lt; Prekid funkcije - sustav čeka na pokretanje.</p>
<p>Aktivacija alarma nakon buđenja iz sleep moda.</p>
<p>Ako alarm trenutno nije aktiviran, a zastavica za buđenje (PIR) je postavljena, sustav prelazi u aktivno stanje alarma.</p>
<p>&lt; Resetiranje zastavice buđenja da se spriječi višestruka aktivacija.</p>
<p>&lt; Spremanje trenutnog vremena detekcije za kasniju obradu.</p>
<p>&lt; Označavanje da je alarm sada aktivan.</p>
<p>&lt; Paljenje pozadinskog svjetla LCD ekrana za prikaz alarma.</p>
<p>&lt; Informacija u serijskom monitoru o aktivaciji alarma.</p>
<p>Upravljanje aktivnim alarmom i njegovim gašenjem.</p>
<p>Ako je alarm aktiviran:</p><ul>
<li>LED dioda i buzzer blinkaju u definiranim vremenskim intervalima.</li>
<li>Ispisuju se odgovarajuće poruke upozorenja na LCD ekranu.</li>
<li>Provjerava se zahtjev za gašenje alarma (preko gumba ili IR signala).</li>
</ul>
<p>&lt; Dohvaćanje trenutnog vremena u milisekundama.</p>
<p>Upravljanje blinkanjem LED/buzzera.</p>
<p>Ako je proteklo dovoljno vremena od zadnje promjene stanja (definirano s <code>interval</code>), mijenja se stanje LED diode i buzzera.</p>
<p>&lt; Ažurira vrijeme posljednje promjene.</p>
<p>&lt; Inverzija stanja (ON/OFF) za LED i buzzer.</p>
<p>&lt; Postavlja stanje LED diode.</p>
<p>&lt; Postavlja stanje buzzera.</p>
<p>&lt; Postavlja kursor na početak prvog reda LCD-a.</p>
<p>&lt; Prikazuje ili briše upozorenje o pokretu.</p>
<p>&lt; Postavlja kursor na početak drugog reda LCD-a.</p>
<p>&lt; Prikazuje ili briše opis pokreta.</p>
<p>Provjera zahtjeva za gašenje alarma.</p>
<p>Ako je korisnik pritisnuo gumb ili poslao IR signal za gašenje:</p><ul>
<li>Alarm se gasi.</li>
<li>Resetiraju se zastavice zahtjeva za gašenje.</li>
<li>Sustav se vraća u stanje mirovanja.</li>
</ul>
<p>&lt; Poziv funkcije za gašenje alarma.</p>
<p>&lt; Resetiranje zahtjeva za gašenje putem gumba.</p>
<p>&lt; Resetiranje zahtjeva za gašenje putem IR signala.</p>
<p>&lt; Povratak sustava u pasivno stanje (stanje mirovanja).</p>
<p>Upravljanje ulaskom u sleep mode kada alarm nije aktivan.</p>
<p>Ako alarm nije aktivan i PIR senzor detektira stanje mirovanja (LOW na PIR izlazu):</p><ul>
<li>Sustav se prebacuje u sleep mode (ili simulaciju sleepa).</li>
</ul>
<p>&lt; Poruka o ulasku u sleep mode.</p>
<p>&lt; Kratka pauza radi stabilizacije sustava.</p>
<p>&lt; Poziv funkcije za ulazak u sleep mode.</p>
<p>&lt; Poruka o buđenju iz sleepa.</p>

</div>
</div>
<a id="a781975978f0b9958ad07e530a579b141" name="a781975978f0b9958ad07e530a579b141"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a781975978f0b9958ad07e530a579b141">&#9670;&#160;</a></span>resetStanje()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void resetStanje </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resetira sustav nakon deaktivacije alarma. </p>
<p>Funkcija:</p><ul>
<li>Resetira sve zastavice vezane uz alarm (alarmAktivan, zahtjevi za gašenje)</li>
<li>Prikazuje poruku "Stanje mirovanja" korisniku</li>
<li>Gasi LCD pozadinsko svjetlo za štednju energije</li>
<li>Čeka stabilizaciju PIR senzora (da prestane detektirati pokret)</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Bez čekanja da PIR padne na LOW, mogla bi se dogoditi trenutna reaktivacija alarma. </dd></dl>
<p>&lt; Deaktivira stanje aktivnog alarma</p>
<p>&lt; Briše zahtjev za gašenje gumba</p>
<p>&lt; Briše zahtjev za gašenje putem IR-a</p>
<p>&lt; Briše sve s LCD zaslona</p>
<p>&lt; Postavlja kursor na početak prvog reda</p>
<p>&lt; Prikazuje korisniku status "Stanje mirovanja"</p>
<p>&lt; Drži poruku 2 sekunde vidljivom</p>
<p>&lt; Ponovno briše zaslon</p>
<p>&lt; Gasi pozadinsko osvjetljenje radi uštede energije</p>
<p>&lt; Čeka da PIR prestane detektirati pokret</p>
<p>&lt; Provjerava svakih 100 ms je li pokret prestao</p>

</div>
</div>
<a id="a4fc01d736fe50cf5b977f755b675f11d" name="a4fc01d736fe50cf5b977f755b675f11d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc01d736fe50cf5b977f755b675f11d">&#9670;&#160;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inicijalizacija sustava prilikom pokretanja. </p>
<p>Ova funkcija inicijalizira:</p><ul>
<li>Serijsku komunikaciju za debug poruke</li>
<li>Definicije načina rada svih pinova (INPUT, OUTPUT)</li>
<li>LCD zaslon za ispis statusa</li>
<li>IR prijemnik za primanje signala s daljinskog upravljača</li>
<li>Eksterni prekid za PIR senzor (ako nije simulacija)</li>
</ul>
<p>Također ispisuje početnu poruku "Čekanje PLAY IR" na LCD zaslon. </p>
<p>&lt; Pokretanje serijske komunikacije pri brzini 9600 bps</p>
<p>&lt; Postavljanje pina LED diode kao izlaznog</p>
<p>&lt; Postavljanje pina buzzera kao izlaznog</p>
<p>&lt; Postavljanje pina PIR senzora kao ulaznog</p>
<p>&lt; Postavljanje pina gumba kao ulaznog s internim pull-up otpornikom</p>
<p>&lt; Postavljanje pina IR prijemnika kao ulaznog</p>
<p>&lt; Inicijalizacija LCD zaslona</p>
<p>&lt; Uključivanje pozadinskog osvjetljenja LCD-a</p>
<p>&lt; Postavljanje kursora na prvi red, prvi stupac LCD-a</p>
<p>&lt; Ispis početne poruke korisniku: čekanje IR PLAY signala</p>
<p>&lt; Pokretanje IR prijemnika s uključenim LED feedbackom</p>
<p>&lt; Informativna poruka o uspješnoj inicijalizaciji IR prijemnika</p>
<p>&lt; Poruka o završetku inicijalizacije sustava</p>

</div>
</div>
<a id="af3cf6746793db8fea1c55c501b1deb2d" name="af3cf6746793db8fea1c55c501b1deb2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3cf6746793db8fea1c55c501b1deb2d">&#9670;&#160;</a></span>ugasiAlarm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ugasiAlarm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funkcija za gašenje aktivnog alarma. </p>
<p>Funkcija deaktivira LED diodu i buzzer (isključuje ih), briše sve s LCD zaslona, prikazuje poruku "Alarm ugasen" te zadržava prikaz te poruke 1.5 sekundi prije nastavka rada.</p>
<dl class="section note"><dt>Note</dt><dd>Korisniku se daje vizualna potvrda da je alarm ugašen. </dd></dl>
<p>&lt; Ispis u serijski monitor za potvrdu gašenja alarma</p>
<p>&lt; Gasi LED diodu</p>
<p>&lt; Gasi buzzer</p>
<p>&lt; Čisti sadržaj LCD ekrana</p>
<p>&lt; Postavlja kursor na početak prvog reda</p>
<p>&lt; Ispisuje poruku korisniku o gašenju alarma</p>
<p>&lt; Kratko zadržavanje poruke 1.5 sekundi</p>

</div>
</div>
<a id="a079d49a5302222debfe4dc54cf7a5c7a" name="a079d49a5302222debfe4dc54cf7a5c7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a079d49a5302222debfe4dc54cf7a5c7a">&#9670;&#160;</a></span>wakeUp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wakeUp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funkcija prekida koja se poziva pri buđenju sustava. </p>
<p>Kada PIR senzor detektira pokret (preko eksternog prekida), ova funkcija postavlja zastavicu <code>wakeUpFlag</code> na <code>true</code>. Glavna petlja (loop) koristi ovu zastavicu kako bi znala da treba aktivirati alarm.</p>
<dl class="section note"><dt>Note</dt><dd>Funkcija treba biti što brža jer se izvršava unutar ISR (Interrupt Service Routine). </dd></dl>
<p>&lt; Postavljanje zastavice za buđenje iz sleep moda.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae3a902b93090166727a553586295ebb6" name="ae3a902b93090166727a553586295ebb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3a902b93090166727a553586295ebb6">&#9670;&#160;</a></span>alarmAktivan</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool alarmAktivan = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trenutno stanje alarma (aktiviran / deaktiviran) </p>

</div>
</div>
<a id="a4ddb8b6ae564eb22f7c74f2683a63b8e" name="a4ddb8b6ae564eb22f7c74f2683a63b8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ddb8b6ae564eb22f7c74f2683a63b8e">&#9670;&#160;</a></span>buttonPin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int buttonPin = 2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Digitalni pin za fizički gumb (INPUT_PULLUP) </p>

</div>
</div>
<a id="a988a608b186de34e793324aee3ec73ee" name="a988a608b186de34e793324aee3ec73ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a988a608b186de34e793324aee3ec73ee">&#9670;&#160;</a></span>buzzerPin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int buzzerPin = 5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Digitalni pin na kojem je spojen buzzer. </p>

</div>
</div>
<a id="a2e243d502b1d882c3b827c6b070cc02c" name="a2e243d502b1d882c3b827c6b070cc02c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e243d502b1d882c3b827c6b070cc02c">&#9670;&#160;</a></span>interval</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned long interval = 300</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interval blinkanja LED/buzzera u milisekundama. </p>

</div>
</div>
<a id="a1c07a919e05dd74466f6e4d7882cb032" name="a1c07a919e05dd74466f6e4d7882cb032"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c07a919e05dd74466f6e4d7882cb032">&#9670;&#160;</a></span>IR_KOD_GASENJE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t IR_KOD_GASENJE = 0x5DA2FF00</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IR kod za POWER tipku (gašenje cijelog sustava) </p>

</div>
</div>
<a id="a00069362e9095a0f6a0c9ff9bc516b6b" name="a00069362e9095a0f6a0c9ff9bc516b6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00069362e9095a0f6a0c9ff9bc516b6b">&#9670;&#160;</a></span>IR_KOD_GASENJE_ALARMA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t IR_KOD_GASENJE_ALARMA = 0xCF30FF00</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IR kod za tipku 1 (gašenje samo aktivnog alarma) </p>

</div>
</div>
<a id="a57302b2a873ba32a98f013fc784e25a0" name="a57302b2a873ba32a98f013fc784e25a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57302b2a873ba32a98f013fc784e25a0">&#9670;&#160;</a></span>IR_KOD_PALJENJE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t IR_KOD_PALJENJE = 0x57A8FF00</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IR kod za PLAY tipku (pokretanje sustava) </p>

</div>
</div>
<a id="ab1ac24ace0db3b096e56744b0ea173ed" name="ab1ac24ace0db3b096e56744b0ea173ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1ac24ace0db3b096e56744b0ea173ed">&#9670;&#160;</a></span>irPin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int irPin = 3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Digitalni pin za IR prijemnik. </p>

</div>
</div>
<a id="a2cd9f0d96c9cd0637798de3baa7aee60" name="a2cd9f0d96c9cd0637798de3baa7aee60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cd9f0d96c9cd0637798de3baa7aee60">&#9670;&#160;</a></span>ledPin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int ledPin = 6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Digitalni pin na kojem je spojena LED dioda. </p>

</div>
</div>
<a id="a8124f4ae570c6b416e85d4948705938e" name="a8124f4ae570c6b416e85d4948705938e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8124f4ae570c6b416e85d4948705938e">&#9670;&#160;</a></span>pirPin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int pirPin = 4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Digitalni pin na kojem je spojen PIR senzor. </p>

</div>
</div>
<a id="aa0ac8085d6bd0e2f03eff856c6835a43" name="aa0ac8085d6bd0e2f03eff856c6835a43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0ac8085d6bd0e2f03eff856c6835a43">&#9670;&#160;</a></span>prethodno</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long prethodno = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Vrijeme zadnje promjene stanja LED/buzzera za efekt blinkanja. </p>

</div>
</div>
<a id="a1d52a86a270366bbb7d6875a9b0df4d4" name="a1d52a86a270366bbb7d6875a9b0df4d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d52a86a270366bbb7d6875a9b0df4d4">&#9670;&#160;</a></span>stanje</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool stanje = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trenutno stanje LED diode i buzzera (blinking efekt) </p>

</div>
</div>
<a id="acfef90b166278763e5118f5580f48463" name="acfef90b166278763e5118f5580f48463"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfef90b166278763e5118f5580f48463">&#9670;&#160;</a></span>sustavPokrenut</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sustavPokrenut = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Zastavica je li sustav pokrenut IR PLAY tipkom. </p>

</div>
</div>
<a id="ae9c6353b7ababe2622a259d5f71a41ac" name="ae9c6353b7ababe2622a259d5f71a41ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9c6353b7ababe2622a259d5f71a41ac">&#9670;&#160;</a></span>wakeUpFlag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool wakeUpFlag = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Zastavica koju postavlja PIR prekid za buđenje iz sleep moda. </p>

</div>
</div>
<a id="add49e425acd5c0cfe40c78769b0c1d77" name="add49e425acd5c0cfe40c78769b0c1d77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add49e425acd5c0cfe40c78769b0c1d77">&#9670;&#160;</a></span>zadnjeVrijemeDetekcije</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long zadnjeVrijemeDetekcije = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Vrijeme zadnje registracije pokreta PIR senzorom. </p>

</div>
</div>
<a id="afb1bb411af196187526f8ae6125239ee" name="afb1bb411af196187526f8ae6125239ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb1bb411af196187526f8ae6125239ee">&#9670;&#160;</a></span>zadnjeVrijemeGumba</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long zadnjeVrijemeGumba = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Vrijeme posljednjeg pritiska fizičkog gumba. </p>

</div>
</div>
<a id="a632a8150a5127d3ae2080f091b43e048" name="a632a8150a5127d3ae2080f091b43e048"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a632a8150a5127d3ae2080f091b43e048">&#9670;&#160;</a></span>zadnjeVrijemeIR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long zadnjeVrijemeIR = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Vrijeme posljednjeg primljenog IR signala. </p>

</div>
</div>
<a id="a8e0ff2d3ee9d861b4231dcc61361c129" name="a8e0ff2d3ee9d861b4231dcc61361c129"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e0ff2d3ee9d861b4231dcc61361c129">&#9670;&#160;</a></span>zahtjevZaGasenjeGumbom</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool zahtjevZaGasenjeGumbom = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Zastavica za gašenje alarma putem gumba. </p>

</div>
</div>
<a id="a4886a63ed5b453590080e57c2cf760a5" name="a4886a63ed5b453590080e57c2cf760a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4886a63ed5b453590080e57c2cf760a5">&#9670;&#160;</a></span>zahtjevZaGasenjeIR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool zahtjevZaGasenjeIR = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Zastavica za gašenje alarma putem IR daljinskog (tipka 1) </p>

</div>
</div>
<a id="a23c90ddef81fc5238afe8633e20e3ebb" name="a23c90ddef81fc5238afe8633e20e3ebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23c90ddef81fc5238afe8633e20e3ebb">&#9670;&#160;</a></span>zahtjevZaGasenjeSustava</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool zahtjevZaGasenjeSustava = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Zastavica za potpuno gašenje sustava putem IR POWER tipke. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="sketch_8ino.html">sketch.ino</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
